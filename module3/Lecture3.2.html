<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>ASM 532 Intro to Ag Informatics</title>

    <link rel="stylesheet" href="../revealjs/dist/reset.css" />
    <link rel="stylesheet" href="../revealjs/dist/reveal.css" />
    <link rel="stylesheet" href="../revealjs/dist/theme/white.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../revealjs/plugin/highlight/monokai.css" />

    <!-- Ankita's theme overrides-->
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <div class="footer">ankita@purdue.edu</div>
        <section>
          <img src="img/axilab-logo.png" width="200px" />
          <h3>Introduction to Ag Informatics</h3>
          Module 3, Lecture 2 <br />
          Ankita Raturi, ankita@purdue.edu<br />
        </section>

        <!-- TODO: Move topic 1-2 to module 4 -->
        <section>
          <h3>Outline for Today</h3>
          <ul>
            <!-- <li>Introducing Dynamic Web Apps</li> -->
            <!-- <li>A little bit about Web Frameworks, esp. Django</li> -->
            <li>Data modeling</li>
            <!-- <li>From procedural to Object Oriented Programming (OOP)</li> -->
            <li>OOP in Python</li>
            <li>Function design</li>
          </ul>
        </section>

        <section>
          <h3>Data Modeling</h3>
          <p>Decide what needs to be represented!</p>
          <p>Determine the correct data type for different kinds of data.</p>
          <p>
            Identify the right data structure to pool together related items.
          </p>
          <p>Develop the right process to manage your data as a whole.</p>
        </section>

        <section>
          <h3>Example: Cover Crop Data</h3>
          <div class="r-stack">
            <img
              class="fragment fade-in-then-out"
              src="img/covercrops-book.jpg"
              width="40%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-phz.jpg"
              width="70%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-soil.png"
              width="70%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-usda.png"
              width="80%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-chart.png"
              width="80%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-smartmix.png"
              width="80%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-midwest-old.png"
              width="80%"
            />
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-dataverification.png"
              width="70%"
            />
          </div>
        </section>

        <section>
          <h3>Spreadsheets / CSVs</h3>
          <div class="r-stack">
            <img
              class="fragment fade-in-then-out"
              src="img/covercrop-sample-before.png"
            />
            <img class="fragment" src="img/covercrop-sample.png" />
          </div>
          <p class="text-small">
            <a href="https://datacarpentry.org/spreadsheet-ecology-lesson/"
              >Learn more about structuring spreadsheets</a
            >
          </p>
        </section>

        <section>
          <h3>Metadata & Documentation</h3>
          <p>Data Dictionary:</p>
          <img src="img/covercrop-datadict.png" />

          <p>
            Data / Code Documentation Tools<br />
            <a href="https://readthedocs.org/">https://readthedocs.org/</a>
          </p>
        </section>

        <section>
          <h3>JSON</h3>

          "Serialize" a data model.

          <pre><code data-trim>
            [{ 
              "Cover Crop Name": "Barley, Spring",
              "Scientific Name": "Hordeum vulgare",
              "Drought Tolerance": 4,
              "Shade Tolerance": 2,
              "Flood Tolerance": 2,
              "Low Fertility Tolerance": 4,
              "Salinity Tolerance": 3,
              "Winter Survival": ["Seldom"],
              "Active Growth Period": ["Spring", "Summer"],
              "Duration": ["Annual"],
              "Shape & Orientation": ["Erect"],
              "Notes: Basic Agronomics": "Dry matter highly dependent on planting and termination date and precipitation....",
            }]  
          </code></pre>

          <p>
            <a
              href="https://github.com/ag-informatics/covercrops/blob/master/src/shared/crop-data.json"
              >Cover Crop Data in JSON</a
            >
          </p>

          <p class="text-small">
            <a
              href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON"
              >Learn more about JSON</a
            >
          </p>
        </section>

        <section>
          <h3>The Cover Crop Data in Action</h3>
          <img src="img/covercrop-tool.png" />

          <p class="text-small">
            Built a Javascript-based web app. <br />Uses the airtable API (where
            we have spreadsheets) to pull live data (still being curated).
            <br />Data is restructured and stored as JSON files.<br />To be
            continued....
          </p>
        </section>

        <section>
          <h3>Object-Oriented Programming (OOP)</h3>
          <p>
            Modeling involves representing the real world through
            <span class="red">abstractions</span> to aid in reflection,
            analysis, and prediction.
          </p>
          <img src="img/photo-StateIV.png" width="28%" />
          <img src="img/photo-StateVII.png" width="25%" />
          <img src="img/photo-StateXIV.png" width="25%" />
          <br /><br />
          <p class="cite">
            img src: Estate of Pablo Picasso / Artists Rights Society (ARS), New
            York
          </p>
        </section>

        <section>
          <h3>Principle #1 of OOP: Abstraction</h3>
          <p>OOP use abstractions known as <span class="red">objects.</span></p>
          <div class="r-stack">
            <img
              class="fragment fade-in-then-out"
              src="img/oop-abstraction.png"
              width="50%"
            />
            <img class="fragment" src="img/oop-object.png" />
          </div>
        </section>

        <section>
          <h3>Objects</h3>
          <img src="img/oop-object-field.png" width="25%" />
          <div class="container">
            <div class="col">
              <ul>
                <li><b>Attributes</b> (Nouns)</li>
                <li>A variable inside an object</li>
                <li>Attributes have a type</li>
                <li>Accessed: field.location</li>
              </ul>
            </div>
            <div class="col">
              <ul>
                <li><b>Methods</b> (Verbs)</li>
                <li>A function inside an object</li>
                <li>Optional input/output.</li>
                <li>Run: field.plant(crop)</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h3>Structuring your data: Python</h3>

          <ul class="no-bullets">
            <li><b>Data types:</b> int, float, String, etc.</li>
            <li>
              <b>Data structures:</b>
              <ul class="no-bullets">
                <li>Lists (array): [1, 2, 3, 4, 5]</li>
                <li>Tuples: ([1, 2, 3], 55, "what?")</li>
                <li>Dictionaries: {'key': value, 'bobby': 42, 'noddy': 54}</li>
                <li>Pandas' DataFrames.</li>
              </ul>
            </li>
            <br /><br />
            <li class="fragment">
              Object-oriented models in Python
              <!-- and data models in Django -->
              using <b>Classes</b>
              <!-- (as prev. discussed) -->
              .
            </li>
          </ul>
        </section>

        <section>
          <h3>Objects in Python</h3>

          <p>Classes are used to represent objects</p>
          <pre><code data-trim data-line-numbers>
            class Animal:
              animal_type = cow
              name = Bessy
              age = 10
              breed = Holstein
          </code></pre>

          <p>Class = Animal. Object = this_specific_animal_instance</p>
          <p>
            "Constructors" can be used to instantiate an object. __init__().
          </p>
          <p class="red fragment">
            <b>Let's try to create a more abstract, reusable class.</b>
          </p>
        </section>

        <section>
          <h3>Principle #2 of OOP: Inheritance.</h3>
          <div class="r-stack">
            <img
              class="fragment fade-in-then-out"
              src="img/oop-heirarchy.png"
              width="30%"
            />
            <img
              class="fragment"
              src="img/oop-animal-heirarchy.png"
              width="50%"
            />
          </div>

          <p>Objects have relationships!</p>
          <p class="red fragment">
            <b>Let's try to create a heirarchy of reusable classes</b>
          </p>
          <br />
          <p class="cite">
            img src: Booch et al., 2007, Object Oriented Analysis & Design.
          </p>
        </section>

        <section>
          <h3>Composition & Association</h3>
          <img src="img/oop-car.png" />
          <br />
          <p class="cite">img src: Visual Paradigm, Tool Examples 2021.</p>
        </section>

        <section>
          <h3>Principle #3 of OOP: Encapsulation</h3>
          <img src="img/oop-encapsulation.png" width="50%" />
          <p>Objects have a notion of "self".</p>
          <p class="red fragment"><b>Let's write a few methods</b></p>
          <br />
          <p class="cite">
            img src: Booch et al., 2007, Object Oriented Analysis & Design.
          </p>
        </section>

        <section>
          <h3>Principle #3 of OOP: Polymorphism</h3>
          <img src="img/oop-animal-polymorphism.png" width="50%" />
          <p class="red fragment">
            <b
              >Let's make our classes behave differently depending on what they
              are</b
            >
          </p>
        </section>

        <section>
          <h3>Methods as an Object Interface</h3>
          <img src="img/oop-interfaces.png" width="50%" />
          <p>
            Interface with: a library, a module, an application.<br /><br />An
            Application Programming Interface (API!)
          </p>
          <br />
          <p class="cite">
            https://medium.com/practicum-by-yandex/introduction-to-object-oriented-programming-34cc3b7ab582
          </p>
        </section>

        <section>
          <h3>OOP, in short</h3>
          <p>Model your system as objects</p>
          <ul>
            <li>Identify classes.</li>
            <li>Identify attributes (nouns).</li>
            <li>Outline methods (verbs).</li>
            <li>Create associations & other relationships</li>
          </ul>
        </section>

        <section>
          <h3>Databases</h3>
          <div class="container">
            <div class="col">
              <h6>Relational (SQL)</h6>
              <ul>
                <li>
                  All records have a unique identified, a column in the table
                  deemed the PRIMARY KEY
                </li>
                <li>
                  Tables are linked based on a lookup "column", known as a
                  FOREIGN KEY
                </li>
                <li>
                  Three relationship types:
                  <ul class="no-bullets text-small">
                    <li>one-one: one book can have one ISBN (id number)</li>
                    <li>one-many: one book can be borrowed many times</li>
                    <li>
                      many-many: many books can be borrowed by many people
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
            <div class="col">
              <img src="img/db-relational.png" />
              <p class="text-small">
                <a
                  href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Models"
                  >Django Example</a
                >
              </p>
            </div>
          </div>
        </section>

        <section>
          <h3>Databases</h3>

          <h6>Non-Relational (NoSQL)</h6>
          <img src="img/db-nosql.png" />
          <p class="text-small">
            Key-Value e.g., <a href="https://redis.io/">redis</a>. Document
            e.g., <a href="https://www.mongodb.com/">MongoDB</a>. Columnar e.g.,
            <a href="https://cassandra.apache.org/_/index.html"
              >Apache Cassandra</a
            >
            Graph e.g., <a href="https://neo4j.com/">Neo4J</a>
          </p>

          <p class="text-small">
            <a href="https://azure.microsoft.com/en-us/overview/nosql-database/"
              >Learn more about NoSQL dbs.</a
            >
          </p>
        </section>

        <section>
          <h4>Previously...</h4>
          <h3>Procedural Programming</h3>
          <pre><code data-trim data-line-numbers="1-2|3-5|6,7|8,9">
            import pandas as pd
            ...
            dirty_CORN = pd.read_csv('dirty-cornprices.csv')
            dirty_CORN.dropna(how='all', axis=1, inplace=True)
            ...
            dirty_CORN.to_csv('clean-cornprices.csv')
            ...
            plt.plot(clean_CORN['Year'], clean_CORN['Value'])
            plt.show()
          </code></pre>

          <br />
          <div class="container">
            <div class="col">
              <p>PROS</p>
              <ul>
                <li>Linear batch-processing</li>
                <li>Straightforward logic flow</li>
              </ul>
            </div>
            <div class="col">
              <p>CONS</p>
              <ul>
                <li>Can't reuse code</li>
                <li>Can't support dynamic logic flow</li>
              </ul>
            </div>
          </div>

          <br /><br />
          <p class="cite">
            Quick reference on
            <a href="https://www.w3schools.com/python/python_functions.asp"
              >Python Functions</a
            >
          </p>
        </section>

        <section>
          <h3>Functional Programming</h3>
          <pre><code data-trim data-line-numbers="1-2|3-5">
            def greet():
              print ("Hello World!")

            def greet(name):
              print ("Hello " + name)
          </code></pre>

          <br />
          <p></p>
          <ul>
            <li>Logical groups of actions can be bundled into a function()</li>
            <li>Functions can have inputs AKA arguments, e.g. "name".</li>
            <br />
            <li>
              You've imported functions from libraries, e.g.,
              <a
                href="https://github.com/pandas-dev/pandas/blob/v1.3.3/pandas/core/algorithms.py#L328-L433"
                >pandas.unique()</a
              >
            </li>
          </ul>

          <br /><br />
          <p class="cite">
            Quick reference on
            <a href="https://www.w3schools.com/python/python_functions.asp"
              >Python Functions</a
            >
          </p>
        </section>

        <section>
          <h3>Functional Programming</h3>
          <p>Function with variable number of arguments (*args)</p>
          <pre><code data-trim data-line-numbers>
            def greet(*args):
                for name in names:
                  print(f"Hello {name}")
          </code></pre>

          <br />
          <ul>
            <li>
              "*args" is variable length
              <a href="https://www.w3schools.com/python/python_tuples.asp"
                >tuple</a
              >
              of arguments.
            </li>
            <li>
              You can also send in keyword arguments (kwargs) and a variable
              number of keyword arguments (**kwrags)
            </li>
            <li>
              Use of a
              <a href="https://www.w3schools.com/python/ref_string_format.asp"
                >formatted string</a
              >
            </li>
          </ul>

          <br /><br />
          <p class="cite">
            Quick reference on
            <a href="https://www.w3schools.com/python/python_functions.asp"
              >Python Functions</a
            >
          </p>
        </section>

        <section>
          <h3>Functional Programming</h3>
          <p>Function can have outputs, aka a "return" value</p>

          <pre><code data-trim data-line-numbers=1-3|1-5>
            def ac_to_sqft(value):
              answer = value*43560
              return answer

            sqft = ac_to_sqft(15)
          </code></pre>

          <br />
          <div class="container">
            <div class="col">
              <p>PROS</p>
              <ul>
                <li>Can reuse code!</li>
              </ul>
            </div>
            <div class="col">
              <p>CONS</p>
              <ul>
                <li>Still a linear program flow</li>
              </ul>
            </div>
          </div>

          <br /><br />
          <p class="cite">
            Quick reference on
            <a href="https://www.w3schools.com/python/python_functions.asp"
              >Python Functions</a
            >
          </p>
        </section>

        <section>
          <h3>Function Design, in short</h3>
          <pre><code data-trim data-line-numbers=1|2|3|4-8|10-12|1-12>
            def get_area(width, height):
              """Get the area of a rectangle.
              @type width, height: int
              >>> get_area(2, 5)
              10
              >>> get_area(100,42)
              4200
              """

              area = width*height

              return(area)
          </code></pre>

          <ul class="text-small">
            <li>Write function header</li>
            <li>Write a little description in the comments</li>
            <li>
              Write "type contract", i.e., what is each attribute going to be
            </li>
            <li>Write examples expected behavior.</li>
            <li>Write your function itself!</li>
            <li>Test it.</li>
          </ul>
        </section>

        <section>
          <h3>Questions?</h3>
        </section>

        <section>
          <h3>License</h3>

          <ul class="no-bullets text-small">
            <li>
              <b
                >Attribution Recommendation:
                <span class="red"
                  >Introduction to Agricultural Informatics Course", Ankita
                  Raturi, Purdue University, 2021. Available at
                  <a
                    href="https://github.com/ag-informatics/ag-informatics-course"
                    >https://github.com/ag-informatics/ag-informatics-course</a
                  >. Licensed by
                  <a
                    href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
                    >CC BY-NC-SA 4.0.</a
                  ></span
                ></b
              >
            </li>
            <img src="https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png" />
          </ul>

          <p class="text-small align-left">
            This course is licensed under a Creative Commons
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
              >Attribution-NonCommercial-ShareAlike 4.0 International (CC
              BY-NC-SA 4.0)</a
            >
            license. This is a human-readable summary of (and not a substitute
            for) the
            <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode"
              >license</a
            >. Official translations of this license are available in other
            languages.
          </p>

          <p class="text-small align-left">You are free to:</p>
          <ul class="text-small">
            <li>
              Share — copy and redistribute the material in any medium or format
            </li>
            <li>Adapt — remix, transform, and build upon the material</li>
          </ul>

          <p class="text-small align-left">Under the following terms:</p>
          <ul class="text-small">
            <li>
              Attribution — You must give appropriate credit, provide a link to
              the license, and indicate if changes were made. You may do so in
              any reasonable manner, but not in any way that suggests the
              licensor endorses you or your use.
            </li>
            <li>
              NonCommercial — You may not use the material for commercial
              purposes.
            </li>
            <li>
              ShareAlike — If you remix, transform, or build upon the material,
              you must distribute your contributions under the same license as
              the original.
            </li>
            <li>
              No additional restrictions — You may not apply legal terms or
              technological measures that legally restrict others from doing
              anything the license permits.
            </li>
          </ul>
        </section>
      </div>
    </div>

    <script src="../revealjs/dist/reveal.js"></script>
    <script src="../revealjs/plugin/notes/notes.js"></script>
    <script src="../revealjs/plugin/markdown/markdown.js"></script>
    <script src="../revealjs/plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: "c/t",
        autoAnimateDuration: 0.5,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
